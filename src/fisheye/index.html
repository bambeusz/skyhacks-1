<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>fisheye</title>
</head>
<body>

<canvas id="canvas" width="1280" height="1024"></canvas>

<script src="/fisheyegl/fisheyegl.js"></script>
<script>
    window.onload = () => {
        var distorter = FisheyeGl({
            image: '/footage/Validation/0_51/0_51_left/0_51_left_0.jpg',
        });

        distorter.lens.a     = 1;
        distorter.lens.b     = 1;
        distorter.lens.Fx    = .2;
        distorter.lens.Fy    = .2;

        distorter.run(false, () => {
            const canvas = document.getElementById('canvas');
            const base64 = canvas.toDataURL('image/png');

            window.savebase64(base64);
        });
    };
</script>
</body>
</html>